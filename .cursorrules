# Cursor AI Rules

> **Source of Truth:** See `.ai/rules/` for shared coding standards.
> This file contains Cursor-specific behavior only.

## Imports

Apply rules from:
- `.ai/rules/code_style.md` - Python conventions
- `.ai/rules/tech_stack.md` - GCP, Vertex AI, dependencies
- `.ai/rules/security.md` - Secret handling
- `.ai/rules/testing.md` - Validation approach

---

## File Creation Policy

### ⚠️ ALWAYS ASK BEFORE CREATING NEW FILES

**CRITICAL:** Before creating any new file:
1. Ask the user for explicit permission
2. Explain what the file will contain and why
3. Wait for approval before proceeding

**NEVER create without explicit request:**
- `.md` files (README, guides, documentation)
- `.txt` files (notes, logs)
- Example/template files
- Configuration files (unless fixing a critical bug)

**You MAY update without asking:**
- Existing files the user is actively editing
- Files with obvious typos/errors in active conversation

---

## Project Context

### This Project
- **Purpose:** PR regression review automation for AEM frontend components
- **Runtime:** GCP Cloud Functions (Gen2)
- **Main entry:** `main.py` → `review_pr` function

### Key Files
| File | Purpose |
|------|---------|
| `main.py` | Cloud Function entry point |
| `test_main.py` | Main test file |
| `test_vertex.py` | Vertex AI testing |
| `requirements.txt` | Python dependencies |
| `.env` | Local secrets (git-ignored) |

---

## Communication Style

- Be concise; get to the point quickly
- Use bullet points over paragraphs
- Show code examples rather than lengthy explanations
- Don't suggest refactoring unless code is broken
- Don't propose "best practices" unprompted
- Stick to solving the immediate problem

---

## File Operations

| Operation | Permission |
|-----------|------------|
| **READ** | Go ahead when needed for context |
| **EDIT** | Go ahead for requested changes |
| **CREATE** | **ASK FIRST, always** |
| **DELETE** | Ask unless it's a temp file you created |

---

## Git Operations

**NEVER without explicit request:**
- Commit changes
- Push to remote
- Create branches
- Modify git config
- Force operations

---

## When in Doubt

**ASK THE USER!**

It's always better to ask than to create unwanted files or make unwanted changes.
